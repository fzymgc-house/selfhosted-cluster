# Info on GitHub Webhook: https://developer.github.com/v3/repos/hooks/#create-a-hook
apiVersion: argoproj.io/v1alpha1
kind: EventSource
metadata:
  name: github
spec:
  # service:
  #   ports:
  #     - name: github-webhook
  #       port: 12000
  #       targetPort: 12000
  github:
    fzymgc-house:
      repositories:
        - owner: fzymgc-house
          names:
            - selfhosted-cluster
      githubApp:
        privateKey:
          name: github-app-fzymgc-house-creds
          key: private_key
        appID: "1833086"
        installationID: "Iv23liMnF2s6f2zBHhzv"
      webhook:
        endpoint: /push
        port: "12000"
        method: POST
        url: https://wh-events.fzymgc.house
      events:
        - "*"
      webhookSecret:
        name: github-app-fzymgc-house-creds
        key: github_webhook_secret
      insecure: false
      active: true
      contentType: json
